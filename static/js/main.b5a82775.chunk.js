(this.webpackJsonpmegapolis=this.webpackJsonpmegapolis||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/spinner-dark.b9a0116b.svg"},37:function(e,t,n){e.exports=n(60)},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),s=(n(42),n(43),n(44),n(45),n(46),n(21)),l=n(15),i=n(11),u=n(35),m=n(31),d={FETCH_TASKS_START:"FETCH_TASKS_START",FETCH_TASKS_SUCCESS:"FETCH_TASKS_SUCCESS",FETCH_TASKS_FAILURE:"FETCH_TASKS_FAILURE",ADD_TASK_START:"ADD_TASK_START",ADD_TASK_SUCCESS:"ADD_TASK_SUCCESS",ADD_TASK_FAILURE:"ADD_TASK_FAILURE"};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={isFetching:!1,errorMessage:void 0,tasks:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.FETCH_TASKS_START:return p({},e,{isFetching:!0});case d.FETCH_TASKS_SUCCESS:return p({},e,{tasks:t.payload,isFetching:!1});case d.ADD_TASK_START:return p({},e,{isFetching:!0});case d.ADD_TASK_SUCCESS:return p({},e,{isFetching:!1});case d.FETCH_TASKS_FAILURE:case d.ADD_TASK_FAILURE:return p({},e,{errorMessage:t.payload,isFetching:!1});default:return e}},S=Object(i.c)({tasks:v}),h=n(6),_=n.n(h),b=n(8),g=n(23),T=n.n(g),A=function(e){return{type:d.FETCH_TASKS_SUCCESS,payload:e}},w=function(e){return{type:d.FETCH_TASKS_FAILURE,payload:e}},y=function(e){return{type:d.ADD_TASK_SUCCESS,payload:e}},O=function(e){return{type:d.ADD_TASK_FAILURE,payload:e}},C="https://test.megapolis-it.ru",j=_.a.mark(K),x=_.a.mark(L),k=_.a.mark(N),D=_.a.mark(R),F=_.a.mark(H);function K(){var e,t;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,T()("".concat(C,"/api/list"));case 3:return e=n.sent,n.next=6,e.json();case 6:return t=n.sent,console.log("data ",t),n.next=10,Object(b.c)(A(t.data));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(b.c)(w(n.t0.message));case 16:case"end":return n.stop()}}),j,null,[[0,12]])}function L(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.d)(d.FETCH_TASKS_START,K);case 2:case"end":return e.stop()}}),x)}function N(e){var t,n;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.task,a.prev=1,a.next=4,T()("".concat(C,"/api/list"));case 4:return t=a.sent,a.next=7,t.json();case 7:return n=a.sent,console.log("data ",n),a.next=11,Object(b.c)(y(n.data));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(1),a.next=17,Object(b.c)(O(a.t0.message));case 17:case"end":return a.stop()}}),k,null,[[1,13]])}function R(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.d)(d.ADD_TASK_START,N);case 2:case"end":return e.stop()}}),D)}function H(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)([Object(b.b)(L),Object(b.b)(R)]);case 2:case"end":return e.stop()}}),F)}var U=_.a.mark(M);function M(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)([Object(b.b)(H)]);case 2:case"end":return e.stop()}}),U)}var z=Object(u.a)(),I=[z],P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,V=Object(i.e)(S,P(i.a.apply(void 0,I)));z.run(M);var W=n(14),B=(n(52),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"section-wrapper h-100 d-flex align-items-center"},'\xa9 2019 \u0410\u041e "\u041c\u0435\u0433\u0430\u043f\u043e\u043b\u0438\u0441"'))}),J=n(34),X=(n(53),n(54),function(e){var t=e.type,n=void 0===t?"text":t,a=e.onClick,c=e.text,o=e.view,s=void 0===o?"green":o,l=e.className,i=void 0===l?"":l;return r.a.createElement("button",{type:n,onClick:a,className:"button button_".concat(s," ").concat(i)},c)}),$=(n(55),n(24)),q=function(e){return e.tasks},G=Object($.a)([q],(function(e){return e.tasks})),Q=Object($.a)([q],(function(e){return e.isFetching})),Y=function(e){var t=e.color;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15"},r.a.createElement("path",{fill:t,d:"M8.207 7.5L14.853.854c.195-.195.195-.512 0-.707s-.512-.195-.707 0L7.5 6.793.854.146C.659-.049.342-.049.147.146s-.195.512 0 .707L6.793 7.5.147 14.146a.5003.5003 0 000 .707c.097.098.225.147.353.147s.256-.049.354-.146L7.5 8.207l6.646 6.646c.098.098.226.147.354.147s.256-.049.354-.146a.5003.5003 0 000-.707L8.207 7.5z"}))},Z=function(e){var t=e.color;return r.a.createElement("svg",{version:"1.1",id:"\u0421\u043b\u043e\u0439_1",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"17.824",height:"22",xmlSpace:"preserve"},r.a.createElement("style",null,".st0{fill: ".concat(t)),r.a.createElement("path",{className:"st0",d:"M7.042 7.265c-.276 0-.5.224-.5.5v10.353c0 .276.224.5.5.5s.5-.224.5-.5V7.765c0-.277-.224-.5-.5-.5zM10.854 7.265c-.276 0-.5.224-.5.5v10.353c0 .276.224.5.5.5s.5-.224.5-.5V7.765c0-.277-.224-.5-.5-.5z"}),r.a.createElement("path",{className:"st0",d:"M17.324 4.029h-2.665c-.174-.087-.363-.147-.571-.147h-1.294V2.588C12.794 1.159 11.635 0 10.206 0H7.618c-1.43 0-2.589 1.159-2.589 2.588v1.294H3.735c-.208 0-.397.06-.571.147H.5c-.276 0-.5.224-.5.5s.224.5.5.5h1.971c-.006.051-.03.095-.03.147v15.529c0 .716.58 1.295 1.294 1.295h10.353c.715 0 1.294-.579 1.294-1.294V5.176c0-.052-.024-.097-.03-.147h1.971c.276 0 .5-.224.5-.5s-.223-.5-.499-.5zM6.029 2.588C6.029 1.712 6.742 1 7.618 1h2.588c.875 0 1.588.712 1.588 1.588v1.294H6.029V2.588zm8.353 18.118c0 .162-.132.294-.294.294H3.735a.2945.2945 0 01-.294-.294V5.176c0-.057.032-.102.061-.147h1.527v.147h7.765v-.147h1.527c.029.045.061.09.061.147v15.53z"}))},ee=function(e){var t=e.color;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23"},r.a.createElement("path",{d:"M22.553 4.959L18.027.428c-.55-.551-1.509-.552-2.062 0L1.291 15.089a.4955.4955 0 00-.14.274L.006 22.421c-.025.158.027.32.141.434a.5013.5013 0 00.436.138l7.025-1.173a.5036.5036 0 00.271-.14c3.798-3.801 5.593-5.591 7.404-7.396l.211-.212c1.741-1.735 3.525-3.515 7.005-7.006.294-.219.47-.549.498-.93.03-.428-.135-.868-.444-1.177zM1.105 21.892l1.008-6.21.19-.189c.023.044.046.089.083.126l5.06 5.081-.161.161-6.18 1.031zm13.682-8.526l-.211.211c-1.645 1.64-3.295 3.285-6.424 6.416l-5.058-5.079c-.038-.038-.083-.062-.128-.085L13.232 4.573l5.231 5.125c-1.508 1.507-2.601 2.597-3.676 3.668zm7.059-7.052c-1.031 1.032-1.901 1.902-2.677 2.678l-5.231-5.125 2.734-2.731c.175-.175.475-.173.647 0l4.526 4.531c.103.103.163.26.152.4-.005.088-.038.156-.151.247z",fill:t}))},te=function(){var e=Object(l.c)(G);return r.a.createElement("div",null,r.a.createElement("table",{className:"task-table"},r.a.createElement("tbody",null,e&&e.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"task-table__id"},"\u0417\u0430\u0434\u0430\u0447\u0430 \u2116",e.id),r.a.createElement("td",{className:"task-table__title"},e.title),r.a.createElement("td",null,r.a.createElement(Y,null),r.a.createElement(Z,null),r.a.createElement(ee,null)))})))))},ne=n(36),ae=n(32),re=n.n(ae),ce=(n(56),function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{src:re.a,alt:"spinner"}))}),oe=function(e){return function(t){var n=t.isLoading,a=Object(ne.a)(t,["isLoading"]);return n?r.a.createElement(ce,null):r.a.createElement(e,a)}};n(57);var se=function(e){var t=e.setModalVisibility,n=e.children;return Object(a.useEffect)((function(){var e=document.body;e.style.paddingRight=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var a=n.offsetWidth;return e.parentNode.removeChild(e),t-a}()+"px",e.style.overflow="hidden"}),[]),Object(a.useEffect)((function(){return function(){var e=document.body;e.style.paddingRight="",e.style.overflow="auto"}}),[]),r.a.createElement("div",{className:"modal",onClick:function(){return t(!1)}},r.a.createElement("div",{className:"modal__content",onClick:function(e){return e.stopPropagation()}},r.a.createElement("span",{className:"modal__close",onClick:function(){return t(!1)}},r.a.createElement(Y,{color:"#ff0000"})),n))},le=(n(58),function(){return r.a.createElement("div",{className:"add-form"})}),ie=function(){var e=Object(l.b)(),t=Object(l.c)(Q),n=oe(te),c=Object(a.useState)(!1),o=Object(J.a)(c,2),s=o[0],i=o[1];return Object(a.useEffect)((function(){e({type:d.FETCH_TASKS_START})}),[e]),r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"homepage__upper-row"},r.a.createElement("h1",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447"),r.a.createElement(X,{className:"ml-auto",text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",view:"green",onClick:i})),r.a.createElement(n,{isLoading:t}),s&&r.a.createElement(se,{setModalVisibility:i},r.a.createElement(le,null)))};var ue=function(){return r.a.createElement("div",{className:"site"},r.a.createElement("div",{className:"content"},r.a.createElement(W.c,null,r.a.createElement(W.a,{exact:!0,path:"/",component:ie}))),r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,{store:V},r.a.createElement(s.a,{basename:"/megapolis"},r.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.b5a82775.chunk.js.map